# Что значит "внешний nginx на хосте"

## Текущая ситуация:

У вас есть:
- **Docker контейнеры** с приложением (фронтенд на порту 3001, бэкенд на 8009)
- **Домен** `cf.atfmedia.ru` который должен указывать на ваш сервер

## Проблема:

Домен `cf.atfmedia.ru` не знает, куда направлять запросы. Нужен nginx на сервере, который:
1. Принимает запросы на `cf.atfmedia.ru`
2. Проксирует их в Docker контейнеры (порты 3001, 8009)

## Варианты решения:

### Вариант 1: Использовать существующий nginx (если есть)

Если у вас уже есть nginx на сервере (я видел `telegram_companion_nginx`), добавьте туда конфигурацию для `cf.atfmedia.ru`.

### Вариант 2: Использовать только Docker nginx (проще)

Если у вас нет внешнего nginx, можно использовать только nginx внутри Docker контейнера фронтенда.

**Но тогда:**
- Домен должен указывать напрямую на порт 3001 (не очень красиво)
- Или нужен внешний nginx для красивого URL

### Вариант 3: Установить nginx на сервер

Если nginx нет, установите его на сервере и настройте.

## Что нужно сделать:

1. **Проверьте, есть ли nginx на сервере:**
```bash
which nginx
# или
systemctl status nginx
# или
sudo nginx -v
```

2. **Если есть - добавьте конфигурацию для cf.atfmedia.ru**

3. **Если нет - можно использовать только Docker (но URL будет с портом)**

## Самый простой вариант (без внешнего nginx):

Используйте домен с портом:
- `http://cf.atfmedia.ru:3001` - фронтенд
- `http://cf.atfmedia.ru:8009` - API

Или настройте DNS так, чтобы:
- `cf.atfmedia.ru` → ваш сервер:3001
- `api.cf.atfmedia.ru` → ваш сервер:8009






